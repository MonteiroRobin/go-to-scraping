# ========================================
# Go To Scraping - Environment Variables
# ========================================
#
# Copy this file to .env.local and fill in the values
# cp .env.example .env.local
#
# âš ï¸ IMPORTANT: Never commit .env.local to git!
#

# ========================================
# Supabase Configuration
# ========================================

# ðŸ” PUBLIC (Safe for client-side)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key_here

# ðŸ”’ SERVER-ONLY (API routes only)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here


# ========================================
# Google Places API
# ========================================

# ðŸ”’ SERVER-ONLY
# Get your API key from: https://console.cloud.google.com/apis/credentials
# Enable: Places API (New)
PLACE_API_KEY=your_google_places_api_key_here


# ========================================
# Grok AI (xAI) Configuration
# ========================================

# ðŸ”’ SERVER-ONLY
# Get your API key from: https://x.ai/
GROK_XAI_API_KEY=your_grok_api_key_here


# ========================================
# Stripe Configuration (Payments)
# ========================================

# ðŸ” PUBLIC (Publishable key)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxx

# ðŸ”’ SERVER-ONLY (Secret keys)
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxx

# ðŸ” Price IDs (PUBLIC - used in pricing page)
NEXT_PUBLIC_STRIPE_PRICE_STARTER=price_xxxxxxxxxxxxx
NEXT_PUBLIC_STRIPE_PRICE_PRO=price_xxxxxxxxxxxxx
NEXT_PUBLIC_STRIPE_PRICE_BUSINESS=price_xxxxxxxxxxxxx
NEXT_PUBLIC_STRIPE_PRICE_ENTERPRISE=price_xxxxxxxxxxxxx


# ========================================
# Upstash Redis (Optional - for rate limiting)
# ========================================

# ðŸ”’ SERVER-ONLY
# Get from: https://console.upstash.com/
# UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
# UPSTASH_REDIS_REST_TOKEN=your_token_here


# ========================================
# Sentry (Optional - for error tracking)
# ========================================

# ðŸ” PUBLIC
# Get from: https://sentry.io/
# NEXT_PUBLIC_SENTRY_DSN=https://xxxxxxxxxxxxx@sentry.io/xxxxxxxxxxxxx


# ========================================
# Environment
# ========================================

# development | production | test
NODE_ENV=development


# ========================================
# Setup Instructions
# ========================================
#
# 1. Supabase Setup:
#    - Create project at https://supabase.com
#    - Copy URL and keys from Settings > API
#    - Create tables with schema from /supabase/schema.sql
#    - Enable Row Level Security (RLS)
#    - Create RPC functions: deduct_credits, add_credits, etc.
#
# 2. Google Places API:
#    - Enable "Places API (New)" in Google Cloud Console
#    - Create API key and restrict to your domain
#    - Enable billing (required for Places API)
#    - Monitor usage at https://console.cloud.google.com/apis/dashboard
#
# 3. Grok AI (xAI):
#    - Sign up at https://x.ai/
#    - Generate API key from dashboard
#    - Note: Costs ~$0.01 per enrichment request
#
# 4. Stripe Setup:
#    - Create account at https://stripe.com
#    - Get test keys from Dashboard > Developers > API keys
#    - Create products and prices in Dashboard > Products
#    - Set up webhook endpoint: your-domain.com/api/stripe/webhook
#    - Copy webhook signing secret
#    - For production: Switch to live mode keys
#
# 5. Optional Services:
#    - Upstash Redis: For rate limiting (recommended)
#    - Sentry: For error tracking and monitoring
#
# ========================================
# Security Checklist
# ========================================
#
# âœ… .env.local is in .gitignore
# âœ… Never use SUPABASE_SERVICE_ROLE_KEY client-side
# âœ… Enable Supabase Row Level Security (RLS)
# âœ… Restrict Google API key to your domain
# âœ… Use test keys in development
# âœ… Rotate keys if exposed
# âœ… Enable Stripe webhook signature verification
# âœ… Monitor API usage and costs
#
# ========================================
# Troubleshooting
# ========================================
#
# - "Supabase not configured": Check NEXT_PUBLIC_SUPABASE_URL
# - "PLACE_API_KEY not configured": Add Google API key
# - "Stripe error": Verify webhook secret matches Stripe dashboard
# - "Credits not working": Ensure Supabase RPC functions exist
#
# See TODO.md and AUDIT-SUMMARY.md for more details
#
